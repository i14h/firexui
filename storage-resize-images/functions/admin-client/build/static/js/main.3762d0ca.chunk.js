(this["webpackJsonpadmin-client"]=this["webpackJsonpadmin-client"]||[]).push([[0],{35:function(e,t,n){},37:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),c=n(27),s=n.n(c),i=(n(35),n(11)),o=n.n(i),u=n(15),l=n(12),p=n.p+"static/media/logo.6ce24c58.svg",j=(n(37),n(28)),d=n.n(j),h=n(9),b=n(29),g=n(30),m=n.n(g),x=(n(63),n(59),n(3));var O=function(){var e=h.a.auth();return Object(x.jsx)(m.a,{onClick:function(){var t=new h.a.auth.GoogleAuthProvider;e.signInWithPopup(t).then(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.user){e.next=2;break}return e.abrupt("return");case 2:return n=t.user,e.next=5,n.getIdTokenResult();case 5:a=e.sent,r=a.token,c=a.issuedAtTime,s=a.expirationTime,console.log("token:"),console.log(r),console.log("issuedAt:"),console.log(c),console.log("expirationTime:"),console.log(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})};var f=function(){var e=h.a.auth();return null==e.currentUser?null:Object(x.jsx)("button",{className:"btn btn-warning",onClick:function(){return e.signOut()},children:"Sign Out"})},v=0,A=1,k=2;function N(){return(N=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdTokenResult();case 2:return n=e.sent,a=n.token,e.prev=4,e.next=7,d.a.get("admin/work",{headers:{Authorization:"Bearer ".concat(a)}});case 7:if(200!==e.sent.status){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0.message),e.abrupt("return",!1);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}var w=function(){var e=Object(a.useState)(v),t=Object(u.a)(e,2),n=t[0],r=t[1];if(!h.a.apps.length){var c=document.getElementById("firebase-app"),s=c.getAttribute("api-key"),i=c.getAttribute("project-id");h.a.initializeApp({apiKey:s,authDomain:i+".firebaseapp.com",projectId:i})}var o=h.a.auth(),l=Object(b.a)(o),j=Object(u.a)(l,1)[0];return j&&function(e){return N.apply(this,arguments)}(j).then((function(e){e?r(k):(r(A),o.signOut())})),j&&n===k?Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(x.jsxs)("p",{children:["Hi, ",j.displayName]}),Object(x.jsx)("p",{children:"This is the Admin WebApp. You have superpowers!\ud83d\udd25 \ud83d\ude80"}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(f,{})})]})}):n===A?Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(x.jsx)("p",{children:"You are not authorized to access this content."}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(O,{})})]})}):Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(x.jsx)("p",{children:"Welcome to the Admin Portal!"}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(O,{})})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root")),y()}},[[62,1,2]]]);
//# sourceMappingURL=main.3762d0ca.chunk.js.map